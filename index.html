<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>ife22-24</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <div>
    <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
    <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
  </div>
  <div id="btn_group">
    <button name="isNum">判断当前选中的输入框输入内容是否为数字</button>
    <button name="ARoundB">把 A 四舍五入为 B 个小数位数的数字</button>
    <button name="abs">当前选中数字的绝对值</button>
    <button name="ceil">对当前选中的数字进行上舍入</button>
    <button name="floor">对当前选中的数字进行下舍入</button>
    <button name="round">把当前选中的数字四舍五入为最接近的整数</button>
    <button name="max">返回 A 和 B 中的最高值</button>
    <button name="min">返回 A 和 B 中的最低值</button>        
  </div>
  <p id="result"></p>
  <script>
    var btnGroup = document.getElementById('btn_group');
    var Num_a = document.getElementById('num-a');
    var Num_b = document.getElementById('num-b');
    var all_text = document.querySelectorAll('input[type=text]');
    var all_radio = document.querySelectorAll('input[type=radio]');
    var result = document.getElementById('result');

    function selectedIsNum() {
      var returnVal = 0;
      all_radio.forEach(function(radio, index) {
        if (radio.checked === true) {
          if((isNaN(all_text[index].value.trim()))) {
            console.log('Number '+ (index === 0 ? 'A' : 'B') +'输入框内的不是数字');
            return false;
          } else {
            returnVal =  Number(all_text[index].value.trim());
          }
        }
      })
      return returnVal;
    }

    btnGroup.onclick = function(event) {
      var e = event || window.event;
      var target = e.target || e.srcElement;
      switch(target.name) {
        case 'isNum':
          selectedIsNum();
          break;
        case 'ARoundB':
          if (selectedIsNum()) {
            result.innerText = Math.round(Num_a.value).toFixed(Num_b.value);
          }
          break;
        case 'abs':
          if(selectedIsNum()) {
            result.innerText = Math.abs(selectedIsNum());
          }
          break;
        case 'ceil':
          if(selectedIsNum()) {
              result.innerText = Math.ceil(selectedIsNum());
          }
          break;
        case 'floor':
          if(selectedIsNum()) {
            result.innerText = Math.floor(selectedIsNum());
          }
          break;
        case 'round':
          if(selectedIsNum()) {
            result.innerText = Math.round(selectedIsNum());
          }
          break;
        case 'max':
          if(selectedIsNum()) {
            result.innerText = Math.max(Num_a.value.trim(), Num_b.value.trim());
          }
          break;
        case 'min':
          if(selectedIsNum()) {
            result.innerText = Math.min(Num_a.value.trim(), Num_b.value.trim());
          }
          break;
        default:
          return;
      }
    }
    
  </script>
</body>
</html>